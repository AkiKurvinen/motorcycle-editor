<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Editor</title>
    <link rel="stylesheet" href="editor.css">
    <link rel="stylesheet" href="switch.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <script src="catalog.js"></script>
    <script src="funcs.js"></script>
</head>
<body>
    <div id="editor">
        <div class="wrapper">
        <div class="editorheader">
        <h1>Customize</h1>
        <div><i>Dark&nbsp;Mode</i>
            <label class="switch">
            <input type="checkbox" id="darkmode" onclick="darkMode()">
            <span class="slider round"></span>
            </label>
        </div>
        </div>
      
            <div id="preview">
                <img src="img/preview/headlight.svg" alt="" id="headlight">
                <img src="img/preview/frame1.png" alt="" id="frame">
                <img src="img/preview/seat1.png" alt="" id="seat">
                <img src="img/preview/color.png" alt="" id="colorhue" style="filter: hue-rotate(90deg);">
                <img src="img/preview/specular.png" alt="" id="specular">
                <img src="img/preview/tires1.png" alt="" id="tires">
                <img src="img/preview/engine1.png" alt="" id="engine">
                <img src="img/preview/battery1.png" alt="" id="battery">
                <img src="img/preview/lamp.png" alt="" id="lamp">
            </div>
       
        <div id="priceTag">Total (VAT 0%) <span>10000€</span></div>
        <div id="optionsLabels"><span>Part</span> <span>Item</span> <span>Eur</span></div>
        <div id="options" style="scroll-behavior: smooth;">
            
        </div>
        </div>
        <a href="editor.html" id="changeEditor">Go To Desktop Editor</a>
    </div>



    <script>

        const initMobile = () => {
            //let partsHtml = '<ul>'
            let html = '' 

            for (const [key, value] of Object.entries(partsData)) {
                //console.log(`${key}: ${value}`);
                //partsHtml += `<li id="${key}_txt"><b><a href="#${key}_option">${key}</a></b>`
                html += `<details class="option" id="${key}_option">`
                    //html += `<img src="img/thumbs/${key}1.png" alt="" id="${key}_thumb">`
            
                    html += `<summary><h3>${key}</h3><i>${value[0][0]}</i><span>${formatPrice(value[0][1])}</span></summary>`
                    if(key=='color'){
                        html += '<div id="color_thumb"><img src="img/thumbs/color1.png" alt="" id="color1">'
                        html += '<img src="img/thumbs/color_specular.png" alt="" id="colorSpecular"></div>'
                    }
                    value.forEach((element, index) => {
                        if(index==0){
                            //partsHtml += `<span><p>${element[0]}</p><i>${formatPrice(element[1])} €</i></span></li>`
                        }
                        let checkedVal = index==0 ? 'checked' : ''
                        if (key != 'color'){
                        html +=
                        `<input type="radio" id="${key}${index+1}" name="${key}" value="${key}${index+1}" ${checkedVal}>
                        <label for="${key}${index+1}"><i>${element[0]}</i> <span>${formatPrice(element[1])}</span></label><br>`
                        }
     

                    });
                    if (key == 'color'){
                    html+= `
                    <div>
                      <input type="range" id="colorrange" name="hue" min="0" max="360"
                            oninput="updateBikeColors('h', this.value)"
                            onchange="updateBikeColors('h', this.value)" >
                      <label for="colorrange">H</label>

                      <input type="range" id="colorrange" name="saturation" min="0" max="200" value="100"
                            oninput="updateBikeColors('s', this.value)"
                            onchange="updateBikeColors('s', this.value)" >
                      <label for="colorrange">S</label>

                      <input type="range" id="colorrange" name="lightness" min="0" max="100" value="100"
                            oninput="updateBikeColors('l', this.value)"
                            onchange="updateBikeColors('l', this.value)" >
                      <label for="colorrange">L</label>
                      </div>
                     `
                    }
                
                html += '</div></details>'
            }
            //partsHtml+= '<li><h4 id="totalAmount">Total: <span>0 €</span></h4></li></ul>'
            const baseElem = document.getElementById('options')
            baseElem.innerHTML = html
            
            //const partsBaseElem = document.getElementById('parts')
            //partsBaseElem.innerHTML = partsHtml
            
            changeBikeFilter()

        }
      
        initMobile()
        updateMobilePrice()
    </script>
    <script>
        $(document).ready(function(){
        $('input[type=radio]').click(function(){
            updateViewMob(this.value)
            });
        });


    </script>



</body>
</html>